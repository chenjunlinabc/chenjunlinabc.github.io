<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>计算机组成原理学习笔记 | 知政的个人博客</title>
<meta name=keywords content="计算机组成原理"><meta name=description content="计算机发展历史
1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机
电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次
电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）
晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）
晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快
集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）
超大规模集成电路计算机：芯片集成超大规模的集成电路
微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）
摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍
后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效
因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上
计算机的分类
超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）
著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra
天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心
大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）
迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱
工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）
微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机
计算机体系和结构
冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序
冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备
冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）
冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输
现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）
计算机层次和编程语言
程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换
高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器
常见的编译型语言有C，C++，Golang
高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的
常见的解析型语言有Python，PHP
java是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器
计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层
硬件逻辑层：由门电路和触发器等逻辑电路组成
微程序机器层：由微指令组成的微程序直接交给硬件执行
传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集
这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令
操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）
汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器
高级语言层：高级语言
应用层：应用软件
计算机的计算单位
容量单位
在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））
1字节（Byte）等于8bit
1Kb（千字位）等于1024字节（Byte）
1mb（兆字节）等于1025kb（千字节）
1Gb（吉字节）等于1024mb（兆字节）
1tb（太字节）等于1024gb（吉字节）
1pb（拍字节）等于1024tb（太字节）
1eb（艾字节）等于1024pb（拍字节）
1024是2的10次方
对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb
因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量
原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制
速度单位
网络速度
网络传输数据的单位为Mbps
因此100M宽带就是指100Mbit/s，每秒传输100Mbps
100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb
CPU速度（CPU的时钟频率，Hz）
Hz是每秒中的周期性变动重复次数的计量
例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化
计算机的字符和编码集
字符编码集的历史
ASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）
因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符"><meta name=author content="Me"><link rel=canonical href=https://99999.fun/posts/155/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.4599eadb9eb2ad3d0a8d6827b41a8fda8f2f4af226b63466c09c5fddbc8706b7.css integrity="sha256-RZnq256yrT0KjWgntBqP2o8vSvImtjRmwJxf3byHBrc=" rel="preload stylesheet" as=style><link rel=icon href=https://99999.fun/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://99999.fun/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://99999.fun/favicon.ico><link rel=apple-touch-icon href=https://99999.fun/favicon.ico><link rel=mask-icon href=https://99999.fun/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://99999.fun/posts/155/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="计算机组成原理学习笔记"><meta property="og:description" content="计算机发展历史
1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机
电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次
电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）
晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）
晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快
集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）
超大规模集成电路计算机：芯片集成超大规模的集成电路
微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）
摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍
后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效
因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上
计算机的分类
超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）
著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra
天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心
大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）
迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱
工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）
微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机
计算机体系和结构
冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序
冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备
冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）
冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输
现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）
计算机层次和编程语言
程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换
高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器
常见的编译型语言有C，C++，Golang
高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的
常见的解析型语言有Python，PHP
java是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器
计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层
硬件逻辑层：由门电路和触发器等逻辑电路组成
微程序机器层：由微指令组成的微程序直接交给硬件执行
传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集
这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令
操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）
汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器
高级语言层：高级语言
应用层：应用软件
计算机的计算单位
容量单位
在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））
1字节（Byte）等于8bit
1Kb（千字位）等于1024字节（Byte）
1mb（兆字节）等于1025kb（千字节）
1Gb（吉字节）等于1024mb（兆字节）
1tb（太字节）等于1024gb（吉字节）
1pb（拍字节）等于1024tb（太字节）
1eb（艾字节）等于1024pb（拍字节）
1024是2的10次方
对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb
因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量
原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制
速度单位
网络速度
网络传输数据的单位为Mbps
因此100M宽带就是指100Mbit/s，每秒传输100Mbps
100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb
CPU速度（CPU的时钟频率，Hz）
Hz是每秒中的周期性变动重复次数的计量
例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化
计算机的字符和编码集
字符编码集的历史
ASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）
因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符"><meta property="og:type" content="article"><meta property="og:url" content="https://99999.fun/posts/155/"><meta property="og:image" content="https://99999.fun/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-01T02:00:00+00:00"><meta property="article:modified_time" content="2022-11-01T02:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://99999.fun/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="计算机组成原理学习笔记"><meta name=twitter:description content="计算机发展历史
1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机
电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次
电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）
晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）
晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快
集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）
超大规模集成电路计算机：芯片集成超大规模的集成电路
微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）
摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍
后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效
因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上
计算机的分类
超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）
著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra
天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心
大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）
迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱
工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）
微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机
计算机体系和结构
冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序
冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备
冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）
冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输
现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）
计算机层次和编程语言
程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换
高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器
常见的编译型语言有C，C++，Golang
高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的
常见的解析型语言有Python，PHP
java是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器
计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层
硬件逻辑层：由门电路和触发器等逻辑电路组成
微程序机器层：由微指令组成的微程序直接交给硬件执行
传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集
这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令
操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）
汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器
高级语言层：高级语言
应用层：应用软件
计算机的计算单位
容量单位
在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））
1字节（Byte）等于8bit
1Kb（千字位）等于1024字节（Byte）
1mb（兆字节）等于1025kb（千字节）
1Gb（吉字节）等于1024mb（兆字节）
1tb（太字节）等于1024gb（吉字节）
1pb（拍字节）等于1024tb（太字节）
1eb（艾字节）等于1024pb（拍字节）
1024是2的10次方
对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb
因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量
原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制
速度单位
网络速度
网络传输数据的单位为Mbps
因此100M宽带就是指100Mbit/s，每秒传输100Mbps
100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb
CPU速度（CPU的时钟频率，Hz）
Hz是每秒中的周期性变动重复次数的计量
例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化
计算机的字符和编码集
字符编码集的历史
ASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）
因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://99999.fun/posts/"},{"@type":"ListItem","position":2,"name":"计算机组成原理学习笔记","item":"https://99999.fun/posts/155/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"计算机组成原理学习笔记","name":"计算机组成原理学习笔记","description":"计算机发展历史\n1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机\n电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次\n电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）\n晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）\n晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快\n集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）\n超大规模集成电路计算机：芯片集成超大规模的集成电路\n微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）\n摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍\n后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效\n因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上\n计算机的分类\n超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）\n著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra\n天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心\n大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）\n迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱\n工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）\n微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机\n计算机体系和结构\n冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序\n冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备\n冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）\n冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输\n现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）\n计算机层次和编程语言\n程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换\n高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器\n常见的编译型语言有C，C++，Golang\n高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的\n常见的解析型语言有Python，PHP\njava是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器\n计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层\n硬件逻辑层：由门电路和触发器等逻辑电路组成\n微程序机器层：由微指令组成的微程序直接交给硬件执行\n传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集\n这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令\n操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）\n汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器\n高级语言层：高级语言\n应用层：应用软件\n计算机的计算单位\n容量单位\n在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））\n1字节（Byte）等于8bit\n1Kb（千字位）等于1024字节（Byte）\n1mb（兆字节）等于1025kb（千字节）\n1Gb（吉字节）等于1024mb（兆字节）\n1tb（太字节）等于1024gb（吉字节）\n1pb（拍字节）等于1024tb（太字节）\n1eb（艾字节）等于1024pb（拍字节）\n1024是2的10次方\n对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb\n因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量\n原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制\n速度单位\n网络速度\n网络传输数据的单位为Mbps\n因此100M宽带就是指100Mbit/s，每秒传输100Mbps\n100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb\nCPU速度（CPU的时钟频率，Hz）\nHz是每秒中的周期性变动重复次数的计量\n例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化\n计算机的字符和编码集\n字符编码集的历史\nASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）\n因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符","keywords":["计算机组成原理"],"articleBody":"计算机发展历史\n1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机\n电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次\n电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）\n晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）\n晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快\n集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）\n超大规模集成电路计算机：芯片集成超大规模的集成电路\n微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）\n摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍\n后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效\n因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上\n计算机的分类\n超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）\n著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra\n天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心\n大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）\n迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱\n工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）\n微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机\n计算机体系和结构\n冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序\n冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备\n冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）\n冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输\n现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）\n计算机层次和编程语言\n程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换\n高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器\n常见的编译型语言有C，C++，Golang\n高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的\n常见的解析型语言有Python，PHP\njava是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器\n计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层\n硬件逻辑层：由门电路和触发器等逻辑电路组成\n微程序机器层：由微指令组成的微程序直接交给硬件执行\n传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集\n这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令\n操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）\n汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器\n高级语言层：高级语言\n应用层：应用软件\n计算机的计算单位\n容量单位\n在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））\n1字节（Byte）等于8bit\n1Kb（千字位）等于1024字节（Byte）\n1mb（兆字节）等于1025kb（千字节）\n1Gb（吉字节）等于1024mb（兆字节）\n1tb（太字节）等于1024gb（吉字节）\n1pb（拍字节）等于1024tb（太字节）\n1eb（艾字节）等于1024pb（拍字节）\n1024是2的10次方\n对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb\n因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量\n原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制\n速度单位\n网络速度\n网络传输数据的单位为Mbps\n因此100M宽带就是指100Mbit/s，每秒传输100Mbps\n100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb\nCPU速度（CPU的时钟频率，Hz）\nHz是每秒中的周期性变动重复次数的计量\n例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化\n计算机的字符和编码集\n字符编码集的历史\nASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）\n因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符\n中文编码集\n国标GB2312，诞生于1980年，中文名为信息交换用汉字编码字符集-基本集，GB2312收录了7445个字符（6763个汉字和682个其他字符）\n因为GB2312不符合国际标准，因此推出GBK（汉字内码扩展规范），向下兼容GB2312，向上支持国际ISO标准，GBK收录了21003个汉字，支持全部中日韩汉字\n为了解决全球的字符集问题，推出了Unicode（又被叫为统一码，万国码，单一码），Unicode定义的世界通用的编码集，并且使用UTF-x来对Unicode进行编码（这个x表示一个字符占多少bits，例如utf-8就是指，1个字符占了8个bits）\n计算机组成\n总线：解决不同设备之间的通信问题\n常见的总线有：\nUSB：全称Universal Serial Bus（通用串行总线）\nPCI总线（外置显卡）\nISA总线\nThunderbolt总线\n总线分2种，片内总线（就是芯片内部的总线，传递芯片内部的信息），系统总线（就是连接计算机外围设备的总线，负责CPU，内存，IO设备之间的信息传递）\n系统总线又分为数据总线（数据总线的位数（总线宽度）一般于CPU位数相同，64位（可以一次传输64位，8个字节的数据），负责双向传输数据信息），地址总线（指定数据的内存中的地址，位数为n时，寻址范围为0到2的n次方，位数和存储单元的位数有关系），控制总线（负责传输控制信号，控制信号通过控制总线，从这一个组件传输给另一个组件（例如显卡发送控制信号给显示器），而且还可以监控设备是否就绪）\n总线仲裁（解决多个设备就绪，总线的使用权分配问题）\n仲裁控制器：控制设备使用总线的优先顺序\n仲裁方法：链式查询（仲裁控制器连接总线的全部设备（串连），需要使用总线的设备发送仲裁，优先级高的最先允许，使用完毕，再询问下一个设备，直到没有需要，这就是链式查询），计时器定时查询（仲裁控制器使用计数器累计计数，当接收到仲裁信号后，向全部设备发送计数值，当计数值和设备编码一致时获取使用权），独立请求（每个设备都有总线独立连接仲裁器，设备都可以向仲裁控制器单独发送请求和接收请求）\n输入/输出设备\n常见输入/输出设备：字符输入设备（键盘），图形输入设备（鼠标，数位板，扫描仪），图像输出设备（显示器，打印机，投影仪）\n输入/输出接口通用设计：允许读取数据，允许向设备发送数据，允许检测设备是否被占用，允许检查设备是否已连接，允许检查设备已启动\n数据线（I/O设备与主机传输数据，单向，双向），状态线（I/O设备向主机报告的信息线，主机可以通过该线来查询设备是否已经正常连接并且已经就绪，也可以查询设备是否被其他进程占用），命令线（CPU向设备发送命令的信号线），设备选择线（主机选择I/O设备进行操作的信号线）\nCPU与IO设备通信：程序中断（IO设备就绪，会向CPU发生中断信号，CPU接收到中断信号后，会执行中断程序工作，会暂停当前进程的工作，转而处理该I/O设备的工作，完成后再恢复到之前进程的工作），DMA（直接存储区访问，DMA直接连接主存和设备，DMA工作期间不需要CPU参与，而是作为主存和设备的中间件，来做到IO设备的数据交换）\n计算机存储器\n存储器的分类\n按存储介质分类，分为半导体存储器（内存，固态硬盘）和磁存储器（磁盘（机械硬盘），磁带）\n按存取方式分类，分为随机存储器（RAM），串行存储器（按顺序读写），只读存储器（ROM）\n缓存（CPU的寄存器），主存（内存），辅存（硬盘）\n存储器的层次结构：CPU可以与主存互相访问，缓存可以和CPU互相访问，也可以和主存互相访问，主存和辅存之间互相访问\nCPU和缓存，以及主存构成缓存-主存层次，而主存和辅存又构成了主存-辅存层次\n局部性原理：CPU访问存储器时，存取指令和存取数据，其访问的存储单元都是聚集在一个连续区域中\n缓存-主存层次是为了解决CPU速度和主存速度不匹配的，在CPU和主存之间再加一层缓存，CPU运行时，可以将数据临时存储在该缓存中，而且不需要完全依赖于主存来做数据存储媒介（主存对于CPU来说还是太慢，需要等待主存处理完毕），提高CPU的利用率\n主存-辅存层次是为了解决主存容量不够的问题，在主存之外添加辅助存储器（例如硬盘）\n对于超过主存的程序运行，利用局部性原理，将当前用到的数据存储到主存，还没有用到的先存储到辅存中\n主存储器和辅助存储器\n主存储器：内存（RAM，随机存取存储器，Random Access Memory）\nRAM通过电容存储数据，必须每隔一段时间刷新一次（刷新需要电存在，如果长时间没有刷新将丢失电容里的电子，从而导致数据丢失），因此掉电后，数据会在一段时间后丢失\nRAM主要由半导体存储体，驱动器，译码器，读写电路，控制电路组成\nCPU利用主存数据寄存器（MDR）通过数据总线来连接读写电路（来完成读写内存工作）\n通过主存地址寄存器（MAR），通过地址总线来连接译码器（完成传输数据，数据存储地址工作）\n操作系统的位数决定了最大寻址区域，32位操作系统最大支持4GB内存（2^32=42^30），64位操作系统最大支持2^34GB（2^64=2^342^30）\n辅助存储器，例如磁盘（由盘片（可磁化的硬磁特性材料构成），读写磁头（移动磁头来读取磁道信息），磁道，扇区（磁道的一部分）组成）\n磁盘调度算法：先来先服务算法，最短寻道时间优先算法，扫描算法（电梯算法），循环扫描算法\n先来先服务算法：按照顺序来访问磁道的读写\n最短寻道时间优先算法：优先访问离磁头最近的磁道\n扫描算法（电梯算法）：磁头每次只往一个方向移动，只有到达尽头时才会反方向移动（因为和电梯调度是一样的，因此又叫电梯算法）\n循环扫描算法：基于扫描算法的优化版本，只向一个方向移动，到达尽头不会反方向移动，而是回到起点，继续一个方向移动\n计算机高速缓存\n计算机缓存的工作原理\n字：指存储在一个存储单元中的二进制组合（是存储最小的单元）\n字块：指存储在连续的存储单元中，也就是一个单元的一组字\n如果一个字是64位，并且一个字块有n个字，存储器一共有x个字块，nx就是总字数，而nx*64就是这个存储器的总容量（bits）\n字的地址：前几位表示字块的地址，后几位表示该字在字块的地址\n当CPU需要的数据存在于缓存中时，往缓存获取，需要的数据不存在时，向主存获取\n缓存命中率是衡量缓存的性能基础，如果每次需要的数据都在缓存时，命中率为1\n缓存命中率计算公式：访问主存的次数除以访问主存的次数加访问缓存的次数的和，得到的数就是这个缓存的命中率（占访问总次数的比例）\n缓存访问效率也是衡量缓存的性能基础，计算公式为访问缓存的时间除以访问主存的时间\n缓存替换策略：当缓存没有数据时，需要向主存载入需要的数据，主要有4种算法，随机算法，先进先出算法（FIFO），最不经常使用算法（LFU），最近最少使用算法（LRU）\n随机算法：每一次发生替换时，随机选取缓存的位置，将对应的位置替换\n先进先出算法（FIFO）：将缓存看成先进先出的队列，队列满后发生替换时，优先替换最先进入队列的字块\n最不经常使用算法（LFU）：优先替换最不经常使用的字块，需要提供空间来记录字块的使用频率\n最近最少使用算法（LRU）：优先替换最近一段时间内最少使用的字块（可以利用双向链表结构，保证链首是使用的字块，链尾是最不经常使用的字块，只需要将链尾去掉，将新的字块放到链首）\n指令系统\n机器指令由操作码和地址码组成，操作码指定指令需要完成的操作，操作码的位数决定了机器的操作种类，例如8位操作码表示有256种操作种类，地址码是指定数据或者数据的地址，根据地址码又分为三地址指令，二地址指令，以及一地址指令和零地址指令，就是指令有多少个数据地址\n机器指令的操作类型：数据传输类型，算术逻辑操作类型，移位操作类型，控制指令（例如中断指令）\n机器指令的寻址\n指令寻址：顺序寻址，跳跃寻址\n数据寻址：立即寻址，直接寻址，间接寻址（给出的地址是数据地址的地址，再根据数据地址，找到数据）\n计算机的控制器\n控制器是控制计算机和协调计算机的\n控制器由程序计数器（存储下一条指令的地址），时序发生器（发送时序脉冲，CPU根据时序脉冲来进行工作），指令译码器（翻译操作码对应的操作，传输地址码对应的数据），寄存器（通用（暂时存放或者发送数据或者指令，也负责保存算术逻辑单元的中间结果），指令（存取计算机指令），主存地址（保存当前CPU正在访问的内存单元地址），主存数据（保存当前CPU正在读取或者写入的主存数据）），总线组成\n计算机的运算器\n运算器由数据缓冲器，算术逻辑单元（ALU），通用寄存器，状态字寄存器，以及总线组成\n数据缓冲器分为输入缓存（暂时存放外部设备发送过来的数据）和输出缓冲（暂时存放需要发送给外部设备的数据）\n算术逻辑单元（ALU）是运算器核心，可以完成算术运算（位运算，加减乘除等等）\n状态字寄存器是存放运算状态的（例如进位，结果的正负，条件码，溢出等等），也可以存放运算控制信息（例如允许中断位，调试跟踪标记位等等）\n计算机指令执行过程（获取指令，分析指令，执行指令）\n指令执行过程的交互发生在片内总线\n通过缓存获取指令，再将指令通过片内总线发送给指令寄存器，暂时存放这个指令操作码和地址码（并不知道指令的具体内容），再通过指令译码器来获取指令具体内容，指令译码器通过片内总线发送控制信号给运算器，程序计算数+1（表示轮到下一个指令执行），执行指令会先将数据存储在数据寄存器，算术逻辑单元处理数据，并且状态字寄存器记录运算的状态，指令完成后发送运算结果\n","wordCount":"152","inLanguage":"en","datePublished":"2022-11-01T02:00:00Z","dateModified":"2022-11-01T02:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://99999.fun/posts/155/"},"publisher":{"@type":"Organization","name":"知政的个人博客","logo":{"@type":"ImageObject","url":"https://99999.fun/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://99999.fun/ accesskey=h title="知政的个人博客 (Alt + H)"><img src=https://99999.fun/favicon.ico alt aria-label=logo height=35>知政的个人博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://99999.fun/ title=首页><span>首页</span></a></li><li><a href=https://99999.fun/categories/ title=分类><span>分类</span></a></li><li><a href=https://99999.fun/archives/ title=归档><span>归档</span></a></li><li><a href=https://99999.fun/tags/ title=标签><span>标签</span></a></li><li><a href=https://99999.fun/links/ title=链接><span>链接</span></a></li><li><a href=https://99999.fun/about/ title=关于><span>关于</span></a></li><li><a href=https://99999.fun/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://99999.fun/>Home</a>&nbsp;»&nbsp;<a href=https://99999.fun/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">计算机组成原理学习笔记</h1><div class=post-meta><span title='2022-11-01 02:00:00 +0000 UTC'>2022-11-01</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://99999.fun//posts/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bb%84%e6%88%90%e5%8e%9f%e7%90%86%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>计算机发展历史</p><p>1946-1957，电子管计算机，1957-1964，晶体管计算机，1964-1980，集成电路计算机，1980-至今，超大规模集成电路计算机</p><p>电子管计算机：二战时期，英国为了破译德国的无线电密文，而发明了电子管计算机，最出名的电子管计算机莫过于埃尼阿克（ENIAC），埃尼阿克是美国军方为了计算弹道而诞生的，埃尼阿克长30多米，高2.4米，宽6米，拥有18000多个电子管，70000个电阻，10000个电容，1500个续电，6000多个开关，运行耗电150千瓦，重30吨，占地1500平方英寸（140平方米），造价48万美元，运算速度每秒5000次</p><p>电子管计算机特点：集成度低，占空间大，功耗高，操作复杂（更换程序需要接线）</p><p>晶体管计算机：诞生原因是因为贝尔实验室发明晶体管，1956年诺贝尔物理奖授予贝尔实验室发明晶体管的科学家，第一台晶体管计算机TX-0诞生于MIT的林肯实验室，当时的最强晶体管计算机PDP-1具备4k内存，每秒可执行20万条指令，具备512x512显示器（也是世界第一个显示器，也因为这个计算机携带了显示器的原因，而诞生了世界第一款电子游戏，太空战争）</p><p>晶体管计算机特点：对于电子管计算机来说，集成度高，空间占据小，功耗比电子管低，运行速度快</p><p>集成电路计算机：诞生原因是因为德州仪器的工程师发明了集成电路（IC），操作系统也因为集成电路计算机的出现而诞生，当时为了解决IBM的2款集成电路计算机（7094和1401）所编写的程序无法相互兼容，IBM而推出了System/360（操作系统雏形）</p><p>超大规模集成电路计算机：芯片集成超大规模的集成电路</p><p>微型计算机发展历史：因为集成电路计算机的诞生，计算机逐渐从庞然大物变成小型，乃至微型，1971到1973年，500khz频率的微型计算机（8位），1973到1978年，高于1mhz的微型计算机（8位），1978到1985年，500mhz的微型计算机（16位），1985到2000年，高于1ghz的微型计算机（32位），2000年到至今，高于2ghz的微型计算机（64位）</p><p>摩尔定律：当价格不变的情况下，集成电路的性能，会每18至24个月提升一倍</p><p>后来因为集成电路太密集，热损耗也越来越高，无法解决，摩尔定律也因此失效</p><p>因为摩尔定律的失效，单核已到瓶颈，转而搞多核CPU，2005年，英特尔发布了奔腾系列的双核CPU，AMD也发布了速龙系列的双核CPU，2006年，英特尔发布酷睿四核CPU，至今AMD的服务器级霄龙处理器CPU可以高达64核，而且基准频率（单核频率）可以达到2Ghz以上</p><hr><p>计算机的分类</p><p>超级计算机：功能最强，运算最快，存储容量最大的计算机，用于天气预报，海洋监测，生物制药，科学计算，航天等等需要超大运算的领域，衡量超级计算机的单位是TFlop/s（每秒一万亿次浮点计算）</p><p>著名的超级计算机有Summit，神威太湖之光，天河一号，天河二号，Sierra</p><p>天河二号位于广州大学城的中山大学校区的国家超级计算机广州中心</p><p>大型计算机：又被称为大型机，大型机面向大型商业公司，维护成本高，硬件不易扩展，IBM占据大型机的大片市场，IBM为IOE中的I（计算机提供商）</p><p>迷你计算机（服务器）：目前已替代大型机，为企业主要计算顶梁柱</p><p>工作站：高端微型计算机，面向需要强性能的专业工作者（例如图形，视频）</p><p>微型计算机（个人计算机）：又分为台式计算机，笔记本计算机，一体化计算机</p><hr><p>计算机体系和结构</p><p>冯诺依曼体系：将指令和数据一起存储的计算机设计概念结构，使用通用电路设计，而不是使用专用电路，将指令存储，再将指令编译成通用电路可理解的程序</p><p>冯诺依曼体系要求具备存储器，控制器，运算器，输入/输出设备</p><p>冯诺依曼体系要求能将程序和数据发送给计算机（输入），能长期存储程序，数据，计算过程，计算结果的功能（存储器），具备算术，逻辑处理和数据传送等数据处理功能（运算器和控制器），并且能将处理结果反馈给用户（输出）</p><p>冯诺依曼瓶颈：CPU和存储器速率之间无法调和，导致CPU空转等待数据传输</p><p>现代计算机都是基于冯诺依曼体系的（解决冯诺依曼瓶颈），存储器和运算器，以及控制器整合在一起（就是CPU），CPU内部的存储器更高速（寄存器）</p><hr><p>计算机层次和编程语言</p><p>程序编译和程序解析（计算机无法理解人类语言），需要进行语言（高级语言对低级语言）的转换</p><p>高级语言生成低级语言的过程叫程序编译，而生成的工具叫编译器</p><p>常见的编译型语言有C，C++，Golang</p><p>高级语言作为输入，低级语言接收输入，从而达到高转低的目的，这个过程叫程序解析，而这个低级语言接收的工具叫解析器，解析器必须是用低级语言编写的</p><p>常见的解析型语言有Python，PHP</p><p>java是编译+解析语言，因为它会将源程序编译成JVM字节码，JVM虚拟机再将JVM字节码再解析成机器码，java的跨平台就是因为JVM虚拟机解析器</p><p>计算机的层次：硬件逻辑层，微程序机器层，传统机器层，操作系统层，汇编语言层，高级语言层，应用层</p><p>硬件逻辑层：由门电路和触发器等逻辑电路组成</p><p>微程序机器层：由微指令组成的微程序直接交给硬件执行</p><p>传统机器层：CPU指令集，不同架构CPU使用不同的CPU指令集</p><p>这3层都为机器硬件层，一个指令就是一个微程序，也是一组微指令</p><p>操作系统层：向上提供操作界面，向下对应指令系统，管理硬件（例如分配内存空间）</p><p>汇编语言层：汇编语言可以直接编译成机器语言，完成翻译的工具叫汇编器</p><p>高级语言层：高级语言</p><p>应用层：应用软件</p><hr><p>计算机的计算单位</p><p>容量单位</p><p>在物理层次，用高低电平来记录信息（低电平为0，高电平为1，一个0/1的位被叫为bit（比特位））</p><p>1字节（Byte）等于8bit</p><p>1Kb（千字位）等于1024字节（Byte）</p><p>1mb（兆字节）等于1025kb（千字节）</p><p>1Gb（吉字节）等于1024mb（兆字节）</p><p>1tb（太字节）等于1024gb（吉字节）</p><p>1pb（拍字节）等于1024tb（太字节）</p><p>1eb（艾字节）等于1024pb（拍字节）</p><p>1024是2的10次方</p><p>对于硬盘制造商来说，使用10进制，也就是硬盘制造商认为1000G才是1tb</p><p>因此实质硬盘容量为购买标注的容量（例如240G）乘以1000的3次方，再除于1024的3次方，得到的数就是实质硬盘的容量</p><p>原因是硬盘制造商为了记录硬盘的扇区，使用人类可理解的10进制，而不是2进制</p><p>速度单位</p><p>网络速度</p><p>网络传输数据的单位为Mbps</p><p>因此100M宽带就是指100Mbit/s，每秒传输100Mbps</p><p>100Mbit换算字节就是100/8，也就是12.5MB，因此100m宽带峰值每秒可以传输12.5mb</p><p>CPU速度（CPU的时钟频率，Hz）</p><p>Hz是每秒中的周期性变动重复次数的计量</p><p>例如 3.30 GHz的CPU，就是3.3*1000^3Hz，也就是每秒可以达到33亿次的高低电平变化</p><hr><p>计算机的字符和编码集</p><p>字符编码集的历史</p><p>ASCII码：ASCII码包含95个可打印字符和33个不可打印的字符（例如控制字符），用7个bits表示一个ASCII码（95+33就是128，也就是2的7次方）</p><p>因为ASCII码无法满足需求（例如π），而推出了Extended ASCII码，由原来的7个bits变成8个bits，也就是支持256个字符</p><p>中文编码集</p><p>国标GB2312，诞生于1980年，中文名为信息交换用汉字编码字符集-基本集，GB2312收录了7445个字符（6763个汉字和682个其他字符）</p><p>因为GB2312不符合国际标准，因此推出GBK（汉字内码扩展规范），向下兼容GB2312，向上支持国际ISO标准，GBK收录了21003个汉字，支持全部中日韩汉字</p><p>为了解决全球的字符集问题，推出了Unicode（又被叫为统一码，万国码，单一码），Unicode定义的世界通用的编码集，并且使用UTF-x来对Unicode进行编码（这个x表示一个字符占多少bits，例如utf-8就是指，1个字符占了8个bits）</p><hr><p>计算机组成</p><p>总线：解决不同设备之间的通信问题</p><p>常见的总线有：</p><p>USB：全称Universal Serial Bus（通用串行总线）</p><p>PCI总线（外置显卡）</p><p>ISA总线</p><p>Thunderbolt总线</p><p>总线分2种，片内总线（就是芯片内部的总线，传递芯片内部的信息），系统总线（就是连接计算机外围设备的总线，负责CPU，内存，IO设备之间的信息传递）</p><p>系统总线又分为数据总线（数据总线的位数（总线宽度）一般于CPU位数相同，64位（可以一次传输64位，8个字节的数据），负责双向传输数据信息），地址总线（指定数据的内存中的地址，位数为n时，寻址范围为0到2的n次方，位数和存储单元的位数有关系），控制总线（负责传输控制信号，控制信号通过控制总线，从这一个组件传输给另一个组件（例如显卡发送控制信号给显示器），而且还可以监控设备是否就绪）</p><p>总线仲裁（解决多个设备就绪，总线的使用权分配问题）</p><p>仲裁控制器：控制设备使用总线的优先顺序</p><p>仲裁方法：链式查询（仲裁控制器连接总线的全部设备（串连），需要使用总线的设备发送仲裁，优先级高的最先允许，使用完毕，再询问下一个设备，直到没有需要，这就是链式查询），计时器定时查询（仲裁控制器使用计数器累计计数，当接收到仲裁信号后，向全部设备发送计数值，当计数值和设备编码一致时获取使用权），独立请求（每个设备都有总线独立连接仲裁器，设备都可以向仲裁控制器单独发送请求和接收请求）</p><hr><p>输入/输出设备</p><p>常见输入/输出设备：字符输入设备（键盘），图形输入设备（鼠标，数位板，扫描仪），图像输出设备（显示器，打印机，投影仪）</p><p>输入/输出接口通用设计：允许读取数据，允许向设备发送数据，允许检测设备是否被占用，允许检查设备是否已连接，允许检查设备已启动</p><p>数据线（I/O设备与主机传输数据，单向，双向），状态线（I/O设备向主机报告的信息线，主机可以通过该线来查询设备是否已经正常连接并且已经就绪，也可以查询设备是否被其他进程占用），命令线（CPU向设备发送命令的信号线），设备选择线（主机选择I/O设备进行操作的信号线）</p><p>CPU与IO设备通信：程序中断（IO设备就绪，会向CPU发生中断信号，CPU接收到中断信号后，会执行中断程序工作，会暂停当前进程的工作，转而处理该I/O设备的工作，完成后再恢复到之前进程的工作），DMA（直接存储区访问，DMA直接连接主存和设备，DMA工作期间不需要CPU参与，而是作为主存和设备的中间件，来做到IO设备的数据交换）</p><hr><p>计算机存储器</p><p>存储器的分类</p><p>按存储介质分类，分为半导体存储器（内存，固态硬盘）和磁存储器（磁盘（机械硬盘），磁带）</p><p>按存取方式分类，分为随机存储器（RAM），串行存储器（按顺序读写），只读存储器（ROM）</p><p>缓存（CPU的寄存器），主存（内存），辅存（硬盘）</p><p>存储器的层次结构：CPU可以与主存互相访问，缓存可以和CPU互相访问，也可以和主存互相访问，主存和辅存之间互相访问</p><p>CPU和缓存，以及主存构成缓存-主存层次，而主存和辅存又构成了主存-辅存层次</p><p>局部性原理：CPU访问存储器时，存取指令和存取数据，其访问的存储单元都是聚集在一个连续区域中</p><p>缓存-主存层次是为了解决CPU速度和主存速度不匹配的，在CPU和主存之间再加一层缓存，CPU运行时，可以将数据临时存储在该缓存中，而且不需要完全依赖于主存来做数据存储媒介（主存对于CPU来说还是太慢，需要等待主存处理完毕），提高CPU的利用率</p><p>主存-辅存层次是为了解决主存容量不够的问题，在主存之外添加辅助存储器（例如硬盘）</p><p>对于超过主存的程序运行，利用局部性原理，将当前用到的数据存储到主存，还没有用到的先存储到辅存中</p><hr><p>主存储器和辅助存储器</p><p>主存储器：内存（RAM，随机存取存储器，Random Access Memory）</p><p>RAM通过电容存储数据，必须每隔一段时间刷新一次（刷新需要电存在，如果长时间没有刷新将丢失电容里的电子，从而导致数据丢失），因此掉电后，数据会在一段时间后丢失</p><p>RAM主要由半导体存储体，驱动器，译码器，读写电路，控制电路组成</p><p>CPU利用主存数据寄存器（MDR）通过数据总线来连接读写电路（来完成读写内存工作）</p><p>通过主存地址寄存器（MAR），通过地址总线来连接译码器（完成传输数据，数据存储地址工作）</p><p>操作系统的位数决定了最大寻址区域，32位操作系统最大支持4GB内存（2^32=4<em>2^30），64位操作系统最大支持2^34GB（2^64=2^34</em>2^30）</p><p>辅助存储器，例如磁盘（由盘片（可磁化的硬磁特性材料构成），读写磁头（移动磁头来读取磁道信息），磁道，扇区（磁道的一部分）组成）</p><p>磁盘调度算法：先来先服务算法，最短寻道时间优先算法，扫描算法（电梯算法），循环扫描算法</p><p>先来先服务算法：按照顺序来访问磁道的读写</p><p>最短寻道时间优先算法：优先访问离磁头最近的磁道</p><p>扫描算法（电梯算法）：磁头每次只往一个方向移动，只有到达尽头时才会反方向移动（因为和电梯调度是一样的，因此又叫电梯算法）</p><p>循环扫描算法：基于扫描算法的优化版本，只向一个方向移动，到达尽头不会反方向移动，而是回到起点，继续一个方向移动</p><hr><p>计算机高速缓存</p><p>计算机缓存的工作原理</p><p>字：指存储在一个存储单元中的二进制组合（是存储最小的单元）</p><p>字块：指存储在连续的存储单元中，也就是一个单元的一组字</p><p>如果一个字是64位，并且一个字块有n个字，存储器一共有x个字块，n<em>x就是总字数，而n</em>x*64就是这个存储器的总容量（bits）</p><p>字的地址：前几位表示字块的地址，后几位表示该字在字块的地址</p><p>当CPU需要的数据存在于缓存中时，往缓存获取，需要的数据不存在时，向主存获取</p><p>缓存命中率是衡量缓存的性能基础，如果每次需要的数据都在缓存时，命中率为1</p><p>缓存命中率计算公式：访问主存的次数除以访问主存的次数加访问缓存的次数的和，得到的数就是这个缓存的命中率（占访问总次数的比例）</p><p>缓存访问效率也是衡量缓存的性能基础，计算公式为访问缓存的时间除以访问主存的时间</p><p>缓存替换策略：当缓存没有数据时，需要向主存载入需要的数据，主要有4种算法，随机算法，先进先出算法（FIFO），最不经常使用算法（LFU），最近最少使用算法（LRU）</p><p>随机算法：每一次发生替换时，随机选取缓存的位置，将对应的位置替换</p><p>先进先出算法（FIFO）：将缓存看成先进先出的队列，队列满后发生替换时，优先替换最先进入队列的字块</p><p>最不经常使用算法（LFU）：优先替换最不经常使用的字块，需要提供空间来记录字块的使用频率</p><p>最近最少使用算法（LRU）：优先替换最近一段时间内最少使用的字块（可以利用双向链表结构，保证链首是使用的字块，链尾是最不经常使用的字块，只需要将链尾去掉，将新的字块放到链首）</p><hr><p>指令系统</p><p>机器指令由操作码和地址码组成，操作码指定指令需要完成的操作，操作码的位数决定了机器的操作种类，例如8位操作码表示有256种操作种类，地址码是指定数据或者数据的地址，根据地址码又分为三地址指令，二地址指令，以及一地址指令和零地址指令，就是指令有多少个数据地址</p><p>机器指令的操作类型：数据传输类型，算术逻辑操作类型，移位操作类型，控制指令（例如中断指令）</p><p>机器指令的寻址</p><p>指令寻址：顺序寻址，跳跃寻址</p><p>数据寻址：立即寻址，直接寻址，间接寻址（给出的地址是数据地址的地址，再根据数据地址，找到数据）</p><hr><p>计算机的控制器</p><p>控制器是控制计算机和协调计算机的</p><p>控制器由程序计数器（存储下一条指令的地址），时序发生器（发送时序脉冲，CPU根据时序脉冲来进行工作），指令译码器（翻译操作码对应的操作，传输地址码对应的数据），寄存器（通用（暂时存放或者发送数据或者指令，也负责保存算术逻辑单元的中间结果），指令（存取计算机指令），主存地址（保存当前CPU正在访问的内存单元地址），主存数据（保存当前CPU正在读取或者写入的主存数据）），总线组成</p><hr><p>计算机的运算器</p><p>运算器由数据缓冲器，算术逻辑单元（ALU），通用寄存器，状态字寄存器，以及总线组成</p><p>数据缓冲器分为输入缓存（暂时存放外部设备发送过来的数据）和输出缓冲（暂时存放需要发送给外部设备的数据）</p><p>算术逻辑单元（ALU）是运算器核心，可以完成算术运算（位运算，加减乘除等等）</p><p>状态字寄存器是存放运算状态的（例如进位，结果的正负，条件码，溢出等等），也可以存放运算控制信息（例如允许中断位，调试跟踪标记位等等）</p><hr><p>计算机指令执行过程（获取指令，分析指令，执行指令）</p><p>指令执行过程的交互发生在片内总线</p><p>通过缓存获取指令，再将指令通过片内总线发送给指令寄存器，暂时存放这个指令操作码和地址码（并不知道指令的具体内容），再通过指令译码器来获取指令具体内容，指令译码器通过片内总线发送控制信号给运算器，程序计算数+1（表示轮到下一个指令执行），执行指令会先将数据存储在数据寄存器，算术逻辑单元处理数据，并且状态字寄存器记录运算的状态，指令完成后发送运算结果</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://99999.fun/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/>计算机组成原理</a></li></ul><nav class=paginav><a class=prev href=https://99999.fun/posts/156/><span class=title>« Prev</span><br><span>计算机网络学习笔记</span>
</a><a class=next href=https://99999.fun/posts/154/><span class=title>Next »</span><br><span>简单使用PWA技术</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://99999.fun/>知政的个人博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>